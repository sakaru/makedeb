# Maintainer: Sid Karunaratne <sid@karunaratne.net>
pkgname=zulip-terminal
pkgver=0.7.0
pkgrel=1
pkgdesc=" Official Zulip terminal client."
arch=(any)
url="https://github.com/zulip/zulip-terminal"
license=(Apache 2.0)
depends=(
  "python3-bs4"
  "python3-dateutil"
  "python3-lxml"
  "python3-pygments"
  "python3-pyperclip"
  "python3-pytzdata"
  "python3-typing-extensions"
  "python3-tzlocal"
  "python3-zulip"
)
makedepends=('python3-setuptools')
source=("https://github.com/zulip/zulip-terminal/archive/refs/tags/${pkgver}.tar.gz")
b2sums=("a00dba647b7530ef82c55a6cf8336fef3f6cccb9774565571020757f8f18f553e75ba2564d0cd0b90d98381469c1ce0e0e5cc0cd571af235b9bad55c09808b2c")

build() {
  cd "${srcdir}/${pkgname}-${pkgver}/"
  python setup.py build
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}/"
  python setup.py install --root="${pkgdir}" --optimize=1 --install-layout=deb
  install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}