# Maintainer: Sid Karunaratne <sid@karunaratne.net>

pkgname=python3-pycryptodomex
pkgver=3.15.0
pkgrel=1
pkgdesc='A self-contained Python package of low-level cryptographic primitives'
url='https://www.pycryptodome.org/'
arch=('amd64')
license=('BSD')
depends=('python3')
makedepends=('python3-setuptools')

source=("https://files.pythonhosted.org/packages/source/p/pycryptodomex/pycryptodomex-${pkgver}.tar.gz")
sha512sums=('7d76e4997055506f378ef5662f073bcfa561202f4a70792b5fd3a476f0ee7007e2fb0e45631f2963f234c16097544a36f316bbb8ecff3bcded411a8515f34d9d')

build() {
  cd "$srcdir"/pycryptodomex-$pkgver
  python3 setup.py build
}

package() {
  cd pycryptodomex-$pkgver
  python3 setup.py install --root="$pkgdir" --optimize=1 --skip-build --install-layout=deb

  install -Dm644 LICENSE.rst "$pkgdir"/usr/share/licenses/$pkgname/LICENSE.rst
}